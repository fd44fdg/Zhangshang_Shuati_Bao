# 掌上刷题微信小程序部署完整指南

> 本指南专为完全新手编写，包含从零开始到发布上线的所有步骤

## 📋 目录
1. [前期准备](#前期准备)
2. [微信小程序账号注册](#微信小程序账号注册)
3. [开发工具安装](#开发工具安装)
4. [项目构建](#项目构建)
5. [开发者工具配置](#开发者工具配置)
6. [代码上传](#代码上传)
7. [提交审核](#提交审核)
8. [发布上线](#发布上线)
9. [常见问题解决](#常见问题解决)

---

## 🎯 前期准备

### 需要准备的材料：
- **营业执照**（企业用户）或 **身份证**（个人用户）
- **手机号码**（用于接收验证码）
- **邮箱地址**（用于注册和接收通知）
- **银行卡信息**（用于实名认证）
- **小程序图标**（建议尺寸：144x144px）
- **小程序介绍文字**（简洁描述功能）

### 费用说明：
- **个人账号**：免费，但功能受限
- **企业账号**：300元/年认证费用，功能完整
- **建议**：选择企业账号以获得完整功能

---

## 📱 微信小程序账号注册

### 步骤1：访问注册页面
1. 打开浏览器，访问：https://mp.weixin.qq.com/
2. 点击右上角「立即注册」
3. 选择「小程序」

### 步骤2：填写基本信息
1. **邮箱**：填写未注册过微信的邮箱
2. **密码**：设置登录密码（建议包含大小写字母+数字+符号）
3. **确认密码**：再次输入密码
4. **验证码**：输入图片验证码
5. 勾选同意协议，点击「注册」

### 步骤3：邮箱验证
1. 登录你的邮箱
2. 查收微信团队发送的确认邮件
3. 点击邮件中的确认链接

### 步骤4：选择主体类型
- **个人**：适合个人开发者，功能有限制
- **企业**：适合公司，功能完整，需要营业执照
- **政府**：适合政府机构
- **其他组织**：适合非营利组织等

**推荐选择：企业**（功能最完整）

### 步骤5：主体信息登记

#### 企业用户：
1. **企业名称**：填写营业执照上的公司全称
2. **营业执照注册号**：填写统一社会信用代码
3. **上传营业执照**：拍照上传营业执照照片
4. **管理员信息**：
   - 姓名：法人或授权管理员姓名
   - 身份证号：对应身份证号码
   - 手机号：用于接收验证码
   - 微信号：管理员的微信号

#### 个人用户：
1. **真实姓名**：填写身份证上的姓名
2. **身份证号**：填写身份证号码
3. **上传身份证**：正反面照片
4. **手机号**：用于接收验证码
5. **微信号**：个人微信号

### 步骤6：微信验证
1. 用管理员微信扫描页面二维码
2. 在微信中确认身份
3. 等待审核（通常1-3个工作日）

---

## 💻 开发工具安装

### 下载微信开发者工具
1. 访问：https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
2. 根据你的操作系统下载对应版本：
   - **Windows 64位**：推荐
   - **Windows 32位**：老电脑使用
   - **macOS**：苹果电脑使用

### 安装步骤
1. **Windows用户**：
   - 双击下载的 `.exe` 文件
   - 点击「下一步」完成安装
   - 安装路径建议使用默认路径

2. **Mac用户**：
   - 双击下载的 `.dmg` 文件
   - 将应用拖拽到「应用程序」文件夹

### 首次启动
1. 打开微信开发者工具
2. 使用微信扫码登录
3. 选择「小程序开发」

---

## 🔨 项目构建

### 步骤1：安装Node.js
1. 访问：https://nodejs.org/
2. 下载LTS版本（推荐）
3. 双击安装，全部选择默认选项
4. 安装完成后，按 `Win+R`，输入 `cmd`，回车
5. 在命令行中输入：`node -v`，如果显示版本号说明安装成功

### 步骤2：构建小程序代码
1. 打开命令行（按 `Win+R`，输入 `cmd`）
2. 切换到项目目录：
   ```bash
   cd E:\xmwj_02\zhangshang-shuati-app
   ```
3. 安装依赖：
   ```bash
   npm install
   ```
   > 这一步可能需要5-10分钟，请耐心等待

4. 构建微信小程序：
   ```bash
   npm run build:mp-weixin
   ```
   > 构建完成后，会在 `dist/build/mp-weixin` 目录生成小程序代码

### 步骤3：检查构建结果
1. 打开文件管理器
2. 导航到：`E:\xmwj_02\zhangshang-shuati-app\dist\build\mp-weixin`
3. 确认目录中有以下文件：
   - `app.js`
   - `app.json`
   - `app.wxss`
   - `pages` 文件夹
   - 其他相关文件

---

## ⚙️ 开发者工具配置

### 步骤1：创建新项目
1. 打开微信开发者工具
2. 点击「+」创建新项目
3. 填写项目信息：
   - **项目名称**：掌上刷题小程序
   - **目录**：选择 `E:\xmwj_02\zhangshang-shuati-app\dist\build\mp-weixin`
   - **AppID**：填写你的小程序AppID（在微信公众平台获取）
   - **开发模式**：小程序
   - **后端服务**：不使用云服务

### 步骤2：获取AppID
1. 登录微信公众平台：https://mp.weixin.qq.com/
2. 进入「开发」→「开发设置」
3. 复制「AppID(小程序ID)」
4. 粘贴到开发者工具中

### 步骤3：配置服务器域名
1. 在微信公众平台，进入「开发」→「开发设置」
2. 找到「服务器域名」部分
3. 点击「修改」
4. 添加你的后端API域名：
   - **request合法域名**：`https://your-domain.com`
   - **socket合法域名**：（如果需要WebSocket）
   - **uploadFile合法域名**：`https://your-domain.com`
   - **downloadFile合法域名**：`https://your-domain.com`

> **注意**：域名必须是HTTPS，不能使用IP地址

---

## 📤 代码上传

### 步骤1：预览测试
1. 在开发者工具中点击「预览」
2. 用手机微信扫描二维码
3. 在手机上测试小程序功能
4. 确认所有功能正常工作

### 步骤2：上传代码
1. 在开发者工具中点击「上传」
2. 填写版本信息：
   - **版本号**：1.0.0
   - **项目备注**：初始版本，包含基础刷题功能
3. 点击「上传」

### 步骤3：确认上传成功
1. 登录微信公众平台
2. 进入「版本管理」
3. 在「开发版本」中确认看到刚上传的版本

---

## 📋 提交审核

### 步骤1：配置基本信息
1. 在微信公众平台，进入「小程序信息」
2. 完善以下信息：
   - **小程序名称**：掌上刷题
   - **小程序头像**：上传144x144px的图标
   - **小程序介绍**：专业的编程技术刷题学习平台
   - **服务类别**：教育 → 在线教育

### 步骤2：设置功能页面
1. 进入「版本管理」
2. 找到开发版本，点击「提交审核」
3. 配置功能页面：
   - **首页**：pages/index/index
   - **题目列表**：pages/question/list
   - **个人中心**：pages/profile/index

### 步骤3：填写审核信息
1. **功能描述**：
   ```
   掌上刷题是一个专业的编程技术学习平台，主要功能包括：
   1. 在线刷题：提供JavaScript、CSS、React等技术题目
   2. 学习记录：记录用户学习进度和答题历史
   3. 错题本：收集错题，便于复习
   4. 个人中心：管理个人信息和学习数据
   ```

2. **测试账号**：
   - 如果小程序需要登录，提供测试账号和密码
   - 如果不需要登录，选择「无需提供」

3. **补充说明**：
   ```
   本小程序为教育类应用，所有题目内容均为编程技术相关，
   旨在帮助开发者提升技术水平。不涉及任何违规内容。
   ```

### 步骤4：提交审核
1. 确认所有信息填写正确
2. 点击「提交审核」
3. 等待审核结果（通常1-7个工作日）

---

## 🚀 发布上线

### 审核通过后
1. 登录微信公众平台
2. 进入「版本管理」
3. 在「审核版本」中找到通过审核的版本
4. 点击「发布」
5. 确认发布

### 发布成功
- 用户可以在微信中搜索你的小程序
- 小程序正式上线，可以正常使用

---

## ❓ 常见问题解决

### 1. 构建失败
**问题**：运行 `npm run build:mp-weixin` 时报错

**解决方案**：
```bash
# 清除缓存
npm cache clean --force

# 删除node_modules文件夹
rmdir /s node_modules

# 重新安装依赖
npm install

# 重新构建
npm run build:mp-weixin
```

### 2. 开发者工具无法打开项目
**问题**：提示「项目配置文件错误」

**解决方案**：
1. 检查是否选择了正确的目录（应该是 `mp-weixin` 文件夹）
2. 确认 `app.json` 文件存在且格式正确
3. 重新构建项目

### 3. 网络请求失败
**问题**：小程序无法请求后端API

**解决方案**：
1. 确认后端服务器正常运行
2. 检查服务器域名配置是否正确
3. 确认域名使用HTTPS协议
4. 在开发者工具中勾选「不校验合法域名」（仅开发时）

### 4. 审核被拒绝
**常见拒绝原因及解决方案**：

- **功能描述不清楚**：
  - 重新详细描述小程序功能
  - 提供清晰的使用说明

- **缺少必要页面**：
  - 添加用户协议页面
  - 添加隐私政策页面

- **内容违规**：
  - 检查题目内容是否合规
  - 移除可能违规的内容

### 5. AppID相关问题
**问题**：提示AppID无效

**解决方案**：
1. 确认复制的AppID完整且正确
2. 确认小程序账号审核已通过
3. 检查是否使用了测试号的AppID

### 6. 上传失败
**问题**：代码上传时失败

**解决方案**：
1. 检查网络连接
2. 确认开发者工具版本是最新的
3. 重新登录开发者工具
4. 检查代码包大小是否超过限制（2MB）

---

## 📞 技术支持

### 官方文档
- **小程序开发文档**：https://developers.weixin.qq.com/miniprogram/dev/framework/
- **开发者工具文档**：https://developers.weixin.qq.com/miniprogram/dev/devtools/

### 社区支持
- **微信开放社区**：https://developers.weixin.qq.com/community/
- **Stack Overflow**：搜索 "wechat miniprogram"

### 联系客服
- **微信公众平台客服**：在公众平台右下角点击客服
- **开发者工具反馈**：工具内「帮助」→「意见反馈」

---

## ✅ 部署检查清单

在提交审核前，请确认以下项目都已完成：

- [ ] 微信小程序账号注册并认证
- [ ] 开发者工具安装并配置
- [ ] 项目成功构建为小程序代码
- [ ] 在开发者工具中测试功能正常
- [ ] 配置服务器域名（HTTPS）
- [ ] 上传代码到微信平台
- [ ] 完善小程序基本信息
- [ ] 填写审核信息并提交
- [ ] 准备好应对可能的审核问题

---

## 🎉 恭喜！

如果你按照本指南完成了所有步骤，你的掌上刷题小程序就可以成功发布到微信平台了！

记住，小程序开发是一个持续的过程，发布后还需要：
- 定期更新内容
- 修复用户反馈的问题
- 优化用户体验
- 添加新功能

祝你的小程序获得成功！🚀